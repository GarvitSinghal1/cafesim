<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CafÃ©Vibe - Modern Coffee Shop</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="game-container"></div>

    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loading-text">â˜• Loading CafÃ©Vibe...</div>
        <div class="loading-bar-container">
            <div class="loading-bar-fill" id="loading-fill"></div>
        </div>
    </div>

    <!-- Main Menu -->
    <div id="blocker" style="display: none;">
        <div class="menu-container">
            <h1 class="game-title">â˜• CafÃ©Vibe</h1>
            <p class="game-subtitle">Your modern coffee shop awaits</p>

            <div class="mode-buttons">
                <button class="mode-btn cozy" onclick="startGame('cozy')">
                    ğŸŒ¿ Cozy Mode
                    <div class="mode-description">Relaxed, no stress</div>
                </button>
                <button class="mode-btn competitive" onclick="startGame('competitive')">
                    ğŸ”¥ Competitive
                    <div class="mode-description">Full challenge</div>
                </button>
            </div>

            <div class="controls-help">
                <h3>How to Play</h3>
                <div class="control-row"><span>WASD</span><span class="control-key">Move</span></div>
                <div class="control-row"><span>Mouse</span><span class="control-key">Look</span></div>
                <div class="control-row"><span>E</span><span class="control-key">Interact / Drop</span></div>
                <div class="control-row"><span>H</span><span class="control-key">Toggle Recipes</span></div>
                <div class="control-row"><span>ESC</span><span class="control-key">Pause / Cancel</span></div>
            </div>
        </div>
    </div>

    <!-- HUD -->
    <div id="hud">
        <div class="hud-panel">
            <div class="hud-item">
                <span class="hud-icon">ğŸ’°</span>
                <span class="hud-value" id="money-display">$100</span>
            </div>
            <div class="hud-item">
                <span class="hud-icon">â­</span>
                <span class="hud-value" id="rating-display">5.0</span>
            </div>
            <div class="hud-item">
                <span class="hud-icon">ğŸ‘¥</span>
                <span class="hud-value" id="served-display">0</span>
                <span class="hud-label">Served</span>
            </div>
        </div>
    </div>

    <!-- Crosshair -->
    <div id="crosshair"></div>

    <!-- Interaction Prompt -->
    <div id="interact-prompt">Press <span>E</span> to interact</div>

    <!-- Orders Panel -->
    <div id="orders-panel"></div>

    <!-- Recipe Panel -->
    <div id="recipe-panel">
        <div class="recipe-title">ğŸ“‹ RECIPES (H to toggle)</div>
        <table class="recipe-table">
            <tr>
                <th>Drink</th>
                <th>Espresso</th>
                <th>Milk</th>
                <th>Syrup</th>
            </tr>
            <tr>
                <td>â˜• Espresso</td>
                <td>âœ…</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>ğŸ¥› Latte</td>
                <td>âœ…</td>
                <td>âœ…</td>
                <td>-</td>
            </tr>
            <tr>
                <td>â˜• Cappuccino</td>
                <td>âœ…</td>
                <td>âœ…</td>
                <td>-</td>
            </tr>
            <tr>
                <td>ğŸ¦ Vanilla Latte</td>
                <td>âœ…</td>
                <td>âœ…</td>
                <td>Vanilla</td>
            </tr>
            <tr>
                <td>ğŸ¯ Caramel Mac</td>
                <td>âœ…</td>
                <td>âœ…</td>
                <td>Caramel</td>
            </tr>
            <tr>
                <td>ğŸ« Mocha</td>
                <td>âœ…</td>
                <td>âœ…</td>
                <td>Chocolate</td>
            </tr>
        </table>
        <div class="recipe-workflow">Cup â†’ Espresso â†’ Milk â†’ Syrup â†’ Serve to Customer</div>
    </div>

    <!-- Held Items Display -->
    <div id="held-items"></div>

    <!-- Mini-game Overlay -->
    <div id="minigame-overlay">
        <div class="minigame-container">
            <div id="minigame-title">Making Espresso</div>
            <div id="minigame-instruction">Press E at the right moment!</div>
            <div id="timing-bar">
                <div id="timing-target"></div>
                <div id="timing-marker"></div>
            </div>
            <div id="tap-meter" style="display:none;">
                <div id="tap-fill"></div>
            </div>
            <div id="tap-count" style="display:none;">0</div>
            <div class="minigame-escape-hint">Press ESC to cancel</div>
        </div>
    </div>

    <!-- Quality Popup -->
    <div id="quality-popup"></div>

    <!-- Notification -->
    <div id="notification">
        <div class="notification-title"></div>
        <div class="notification-text"></div>
    </div>

    <!-- Music Panel -->
    <div id="music-panel">
        <div class="music-title">ğŸµ Music</div>
        <div class="music-tracks">
            <div class="music-track active" data-track="0" title="Autumn">ğŸ‚</div>
            <div class="music-track" data-track="1" title="Rain">ğŸŒ§ï¸</div>
            <div class="music-track" data-track="2" title="Night">ğŸŒ™</div>
        </div>
        <div class="volume-control">
            <span>ğŸ”Š</span>
            <input type="range" id="volume-slider" min="0" max="100" value="30">
        </div>
    </div>

    <!-- Shop Modal -->
    <div id="shop-modal">
        <div class="shop-content">
            <div class="shop-header">
                <h2 class="shop-title">â˜• Upgrades</h2>
                <button class="shop-close" onclick="closeShop()">&times;</button>
            </div>
            <div id="shop-grid"></div>
        </div>
    </div>

    <!-- Pause Menu -->
    <div id="pause-menu">
        <div class="pause-content">
            <h1 class="pause-title">PAUSED</h1>
            <button class="pause-btn" onclick="resumeGame()">Resume</button>
            <button class="pause-btn" onclick="quitToMenu()">Quit to Menu</button>
        </div>
    </div>

    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- Three.js Loaders -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/DRACOLoader.js"></script>

    <!-- Cannon.js Physics Engine -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cannon.js/0.6.2/cannon.min.js"></script>

    <!-- Game Scripts -->
    <script src="config.js"></script>
    <script src="assets.js"></script>
    <script src="environment.js"></script>
    <script src="physics.js"></script>
    <script src="game.js"></script>
</body>

</html>